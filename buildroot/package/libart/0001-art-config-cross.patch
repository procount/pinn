diff -Nura libart_lgpl-2.3.21.orig/Makefile.am libart_lgpl-2.3.21/Makefile.am
--- libart_lgpl-2.3.21.orig/Makefile.am	2011-02-01 10:07:39.687545397 -0300
+++ libart_lgpl-2.3.21/Makefile.am	2011-02-01 10:08:48.320545396 -0300
@@ -5,11 +5,6 @@
 	
 noinst_SCRIPTS = gen_art_config.sh
 
-BUILT_SOURCES = art_config.h
-
-art_config.h:
-	./gen_art_config.sh > art_config.h
-
 EXTRA_DIST = 			\
 	libart.def		\
 	libart-config.in	\
diff -Nura libart_lgpl-2.3.21.orig/art_config.h libart_lgpl-2.3.21/art_config.h
--- libart_lgpl-2.3.21.orig/art_config.h	2011-02-01 10:07:39.688545397 -0300
+++ libart_lgpl-2.3.21/art_config.h	2011-02-01 10:08:27.315545395 -0300
@@ -1,9 +1,15 @@
 /* Automatically generated by gen_art_config */
 
+#include <limits.h>
+
 #define ART_SIZEOF_CHAR 1
 #define ART_SIZEOF_SHORT 2
 #define ART_SIZEOF_INT 4
+#if LONG_MAX == 2147483647L
 #define ART_SIZEOF_LONG 4
+#else
+#define ART_SIZEOF_LONG 8
+#endif
 
 typedef unsigned char art_u8;
 typedef unsigned short art_u16;
